<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>
    <script src="../../test-fixture/test-fixture-mocha.js"></script>
    <link rel="import" href="../../polymer/polymer.html">
    <link rel="import" href="../reddit-clone.html">
</head>

<body>
    <test-fixture id="default">
        <template>
            <reddit-item-list></reddit-item-list>
        </template>
    </test-fixture>
    <script>
    suite('<reddit-item-list> tag', function() {
        var el;

        setup(function() {
            el = fixture('default');
            el.reddits = [{
                "id": "6pzbde",
                "name": "t3_6pzbde",
                "title": "FAKE REDDIT FOR TEST",
                "url": "https://www.bbva.com/",
                "subreddit": "test",
                "author": "Esteban",
                "ups": 1,
                "downs": 0,
                "thumbnail": "default",
                "created": 1501198920,
                "created_utc": 1501198920
            }, {
                "id": "6pzbde",
                "name": "t3_6pzbde",
                "title": "FAKE REDDIT FOR TEST",
                "url": "https://www.bbva.com/",
                "subreddit": "test",
                "author": "Esteban",
                "ups": 1,
                "downs": 0,
                "thumbnail": "default",
                "created": 1501198920,
                "created_utc": 1501198920
            }];
        });

        test('it should compute reddits for view with same length of reddits', function() {
            assert.equal(el.redditsForView.length, el.reddits.length);
        });

        test('it should put orignal reddit reference for each item in reddits for view', function() {
            assert.equal(el.redditsForView[0].reddit, el.reddits[0]);
        });
    });
    </script>
</body>

</html>